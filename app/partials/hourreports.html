 <div id="wrapper">
       <div side-bar>
       </div>
<div id="page-wrapper" class="gray-bg">
            
<div nav-menu></div>

            <!--header title-->
            <div class="row wrapper border-bottom white-bg page-heading">
                <div class="col-lg-12">
                    <h2><i class="fa fa-search"></i> Reports</h2>
                    <ol class="breadcrumb">
                        <li>
                            {{project_name}}
                        </li>
                        <li>
                            Reports
                        </li>
                    </ol>
                </div>
            </div>
            <!--end header title-->

            <!--main-->
            <div class="row">
                <div class="col-lg-12">
                    <div class="wrapper wrapper-content animated fadeInUp">

                      <!-- buttons & team -->
                      <div class="row mb20">
                          <div class="col-md-6"></div>
                          <div class="col-md-6 aright">
                              <div class="btn-group">
                                <a ng-click="changeView(1)" ng-class="{'btn btn-white btn-bitbucket btn-m':isTicketReport,'btn btn-default btn-bitbucket btn-m':!isTicketReport}"><i class="fa fa-clone mr5"></i> sort by ticket</a>
                                  <a ng-click="changeView(0)" ng-class="{'btn btn-white btn-bitbucket btn-m':isDateReport,'btn btn-default btn-bitbucket btn-m':!isDateReport}"><i class="fa fa-calendar mr5"></i> sort by date</a>
                                  
                              </div>
                          </div>
                      </div>
                      <!-- end buttons & team -->

                        <div class="ibox">
                           <div class="ibox-content">
                                <div class="row">
                                    <!-- filter-->
                                    <div class="col-md-12 pb10">
                                        <div class="col-md-8 p0">
                                          <div class="calander f-left  m0">
                                              <div class="select-icon-calander"><i class="fa fa-calendar"></i></div>
                                              <div class="select-month">
                                                  <select class="select2" id="selectedmonth" ng-click="changeDate()">
                                                  <option value="0" >month</option>
                                                  <option value="1">january</option>
                                                  <option value="2">february</option>
                                                  <option value="3">march</option>
                                                  <option value="4">april</option>
                                                  <option value="5">may</option>
                                                  <option value="6">june</option>
                                                  <option value="7">july</option>
                                                  <option value="8">august</option>
                                                  <option value="9">september</option>
                                                  <option value="10">october</option>
                                                  <option value="11">november</option>
                                                  <option value="12">december</option>
                                                  </select>
                                              </div>
                                              <div class="select-year">
                                                  <select class="select2" id="selectedyear">
                                                    <option value="2017" selected="selected">2017</option>
                                                    <option value="2016">2016</option>
                                                    <option value="2015">2015</option>
                                                    <option value="2014">2014</option>
                                                    <option value="2013">2013</option>
                                                    <option value="2012">2012</option>
                                                    <option value="2011">2011</option>
                                                    <option value="2010">2010</option>
                                                  </select>

                                              </div>
                                          </div>

                                          <div class="form-group fleft mr10 mb10">
                                            <select ng-if='isTicketReport' class="select3" ng-model="$parent.paymentstatus" ng-change="filterPayment()" >
                                                    <option value="all" selected="selected">All</option>
                                                    <option value="open">Done/Not Billed</option>
                                                    <option value="billed">Done/Billed</option>
                                                    <option value="payed">Done/Payed</option>
                                            </select>
                                            <button class="btn btn-primary btn-bitbucket btn-xs" type="button" ng-if="showMarker" ng-click="markasAllAsbilled()">mark as billed</button>
                                          </div>

                                        </div>
                                        <div class="col-md-4 p0 aright">

                                            <div class="" style="display: inline-block;text-align: right; margin-right: 10px;padding-right:10px; border-right: 1px solid #eee;">
                                                <span class="">Estimation</span>
                                                <h2 class="">
                                                  <span class="hour">{{totalestimation}} h</span>
                                                </h2>
                                              </div>
                                              <div class="" style="display: inline-block;text-align: left; margin-right: 10px;padding-right:10px; border-right: 1px solid #eee;">
                                                <span class="">Real Time</span>
                                                <h2 class="bold">
                                                  <span class="hour">{{totalrealtime}} h</span>
                                                </h2>
                                              </div>
                                               <div class="" style="display: inline-block;text-align: left" ng-if='isTicketReport'>
                                                <span class="">Billable Time</span>
                                                <h2 class="bold">
                                                  <span class="hour">{{btime}} h</span>
                                                </h2>
                                              </div>
                                            
                                            <!-- <div class="input-group project-search">
                                                <input type="text" placeholder="search" class="input-sm form-control">
                                                <span class="input-group-btn"><button type="button" class="btn btn-sm btn-primary"> go!</button> </span>
                                            </div> -->
                                        </div> 
                                        <div style="clear:both;"></div>
                                    </div>
                                    <!-- end filter-->


                                    <!-- table project list -->
                                    <div class="col-md-12" ng-if="isDateReport">
                                        <div class="report-list" ng-repeat="date in data">

                                          <!--table 1-->
                                          <div class="table-responsive report-table">
                                                <table class="table table-hover">
                                                    <thead>
                                                      <tr>
                                                          <td width="400" class="table-head">{{date.date}}</td>
                                                          <td width="800" class="table-head realt-time"></td>
                                                          <td width="150" class="table-head realt-time"><i class="fa fa-clock-o"> {{date.totalestimatedhours}} h</td>
                                                          <td width="150" class="table-head realt-time"><i class="fa fa-clock-o"></i> {{date.totalhours}} h</td>
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr>
                                                          <td width="400" class="table-info">Ticket</td>
                                                          <td width="800" class="table-info">Story</td>
                                                          <td width="150" class="table-info estimation">Estimation</td>
                                                          <td width="150" class="table-info real-time">Real Time</td>
                                                      </tr>

                                                      <tr ng-repeat="story in date.stories">
                                                          <td class="ticket">{{story.ticket}}</td>
                                                          <td class="story">{{story.title}}</td>
                                                          <td class="estimation"><span class="hour">{{story.estimation}} h</span></td>
                                                          <td class="real-time"><span class="hour">{{story.realtime}} h</span></td>
                                                      </tr>
                                                      
                                                    </tbody>
                                                </table>
                                            </div>
                                            <!--//table 1-->


                                        </div>
                                    </div>
                                    <!-- end table project list-->
                                    <!-- table project list -->
                                    <div class="col-md-12" ng-if="isTicketReport">
                                        <div class="report-list"  ng-repeat="ticket in data">

                                          <!--table 1-->
                                          <div class="table-responsive report-table">
                                                <table class="table table-hover" >
                                                    <thead>
                                                      <tr>
                                                          <td width="600" class="table-head">{{ticket.title}}</td>
                                                          <td width="300" class="table-head">
                                                            {{ticket.status}} / 
                                                            <span ng-if="ticket.open">not billed</span>
                                                            <span ng-if="ticket.billed && !ticket.payed">billed</span>
                                                            <span ng-if="ticket.payed">payed</span>
                                                          </td>

                                                          <td width="150" class="table-head realt-time"><i class="fa fa-clock-o"></i> {{ticket.totalestimatedhours}} h</td>
                                                          <td width="150" class="table-head realt-time"><i class="fa fa-clock-o"></i> {{ticket.totalhours}} h</td>
                                                          <td width="150" class="table-head realt-time"><i class="fa fa-clock-o"></i> {{ticket.btime}} h</td>
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr>
                                                          <td width="600" class="table-info">Story</td>
                                                          <td width="600" class="table-info">Date</td>
                                                          <td width="150" class="table-info estimation">Estimation</td>
                                                          <td width="150" class="table-info real-time">Real Time</td>
                                                          <td width="150" class="table-info real-time">Billable Time</td>
                                                      </tr>

                                                      <tr ng-repeat="story in ticket.stories">
                                                          <td class="story">{{story.title}}</td>
                                                          <td class="date">{{story.date}}</td>
                                                          <td class="estimation"><span class="hour">{{story.estimation}} h</span></td>
                                                          <td class="real-time"><span class="hour">{{story.realtime}} h</span></td>
                                                      </tr>
                                                      
                                                    </tbody>
                                                </table>
                                            </div>
                                            <!--//table 1-->



                                        </div>
                                    </div>
                                    <!-- end table project list-->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--main-->

            <!--footer-->
            <div class="footer">
                <div>
                     &copy;2015 &middot; <b>flexwork.io</b> &middot; <a href="privacy-terms-fxw.html">Privacy and Terms</a> &middot; <a href="imprint-fxw.html">Imprint</a>
                </div>
            </div>
            <!--end footer-->

        </div>
        <!--end page wrapper-->

    </div>